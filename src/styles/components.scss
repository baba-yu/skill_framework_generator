/* ==========================================================================
   Components System
   ========================================================================== */

   @use "sass:color";
   @use "./variables.scss" as *;
   
   /* Button Components */
   .btn {
     display: inline-flex;
     align-items: center;
     justify-content: center;
     gap: $space-2;
     border: $border-width solid transparent;
     border-radius: $radius-lg;
     font-family: inherit;
     font-weight: $font-weight-medium;
     text-decoration: none;
     cursor: pointer;
     transition: $transition-colors, $transition-shadow, $transition-transform;
     white-space: nowrap;
     user-select: none;
   
     // Focus styles
     &:focus-visible {
       outline: none;
       box-shadow: $shadow-focus;
     }
   
     // Disabled state
     &:disabled,
     &.disabled {
       opacity: 0.6;
       cursor: not-allowed;
       pointer-events: none;
     }
   
     // Active state
     &:active:not(:disabled) {
       transform: translateY(1px);
     }
   }
   
   // Button Sizes
   .btn-sm {
     height: $button-height-sm;
     padding: 0 $button-padding-x-sm;
     font-size: $font-size-sm;
   }
   
   .btn-md {
     height: $button-height-md;
     padding: 0 $button-padding-x-md;
     font-size: $font-size-base;
   }
   
   .btn-lg {
     height: $button-height-lg;
     padding: 0 $button-padding-x-lg;
     font-size: $font-size-lg;
   }
   
   // Button Variants
   .btn-primary {
     background: $color-primary;
     border-color: $color-primary;
     color: $color-white;
   
     &:hover:not(:disabled) {
       background: $color-primary-hover;
       border-color: $color-primary-hover;
     }
   }
   
   .btn-secondary {
     background: $color-white;
     border-color: $color-border;
     color: $color-text;
   
     &:hover:not(:disabled) {
       background: $color-gray-50;
       border-color: $color-gray-300;
     }
   }
   
   .btn-outline {
     background: transparent;
     border-color: $color-primary;
     color: $color-primary;
   
     &:hover:not(:disabled) {
       background: $color-primary;
       color: $color-white;
     }
   }
   
   .btn-ghost {
     background: transparent;
     border-color: transparent;
     color: $color-text;
   
     &:hover:not(:disabled) {
       background: $color-gray-100;
     }
   }
   
   .btn-danger {
     background: $color-error;
     border-color: $color-error;
     color: $color-white;
   
     &:hover:not(:disabled) {
       background: color.adjust($color-error, $lightness: -10%);
       border-color: color.adjust($color-error, $lightness: -10%);
     }
   }
   
   .btn-success {
     background: $color-success;
     border-color: $color-success;
     color: $color-white;
   
     &:hover:not(:disabled) {
       background: color.adjust($color-success, $lightness: -10%);
       border-color: color.adjust($color-success, $lightness: -10%);
     }
   }
   
   /* Input Components */
   .input {
     display: block;
     width: 100%;
     height: $input-height;
     padding: $input-padding-y $input-padding-x;
     font-family: inherit;
     font-size: $font-size-base;
     font-weight: $font-weight-normal;
     line-height: $line-height-normal;
     color: $color-text;
     background: $color-white;
     border: $border-width solid $color-border;
     border-radius: $radius-lg;
     transition: $transition-colors, $transition-shadow;
   
     &::placeholder {
       color: $color-text-muted;
     }
   
     &:focus {
       outline: none;
       border-color: $color-border-focus;
       box-shadow: $shadow-focus;
     }
   
     &:disabled {
       background: $color-gray-50;
       color: $color-text-muted;
       cursor: not-allowed;
     }
   
     &.error {
       border-color: $color-border-error;
       
       &:focus {
         border-color: $color-border-error;
         box-shadow: 0 0 0 3px rgba(220, 38, 38, 0.1);
       }
     }
   }
   
   .input-sm {
     height: 32px;
     padding: 6px 10px;
     font-size: $font-size-sm;
   }
   
   .input-lg {
     height: 48px;
     padding: 12px 16px;
     font-size: $font-size-lg;
   }
   
   /* Card Components */
   .card {
     background: $color-bg-card;
     border: $card-border;
     border-radius: $card-radius;
     box-shadow: $shadow-card;
     overflow: hidden;
     transition: $transition-shadow;
   
     &:hover {
       box-shadow: $shadow-card-hover;
     }
   }
   
   .card-header {
     padding: $card-padding;
     border-bottom: $border-width solid $color-border-light;
     background: $color-gray-50;
   }
   
   .card-body {
     padding: $card-padding;
   }
   
   .card-footer {
     padding: $card-padding;
     border-top: $border-width solid $color-border-light;
     background: $color-gray-50;
   }
   
   .card-compact {
     .card-header,
     .card-body,
     .card-footer {
       padding: $card-padding-sm;
     }
   }
   
   /* Tag Components */
   .tag {
     display: inline-flex;
     align-items: center;
     gap: $space-1;
     padding: 4px 8px;
     font-size: $font-size-sm;
     font-weight: $font-weight-medium;
     border-radius: $radius-full;
     white-space: nowrap;
   }
   
   .tag-primary {
     background: $color-primary;
     color: $color-white;
   }
   
   .tag-secondary {
     background: $color-gray-100;
     color: $color-text;
   }
   
   .tag-success {
     background: $color-success-light;
     color: $color-success;
   }
   
   .tag-error {
     background: $color-error-light;
     color: $color-error;
   }
   
   .tag-warning {
     color: $color-warning;
   }
   
   .tag-removable {
     padding-right: 4px;
     
     .tag-remove {
       display: flex;
       align-items: center;
       justify-content: center;
       width: 16px;
       height: 16px;
       margin-left: 4px;
       background: rgba(255, 255, 255, 0.2);
       border: none;
       border-radius: 50%;
       color: inherit;
       cursor: pointer;
       font-size: 12px;
       line-height: 1;
       transition: $transition-colors;
   
       &:hover {
         background: rgba(255, 255, 255, 0.3);
       }
     }
   }
   
   /* Modal Components */
   .modal-backdrop {
     position: fixed;
     inset: 0;
     background: $color-bg-overlay;
     display: flex;
     align-items: center;
     justify-content: center;
     z-index: $z-modal-backdrop;
     backdrop-filter: blur(2px);
   }
   
   .modal {
     background: $color-white;
     border-radius: $radius-xl;
     box-shadow: $shadow-xl;
     max-height: 90vh;
     overflow: hidden;
     z-index: $z-modal;
     animation: modalFadeIn 0.2s ease-out;
   }
   
   .modal-sm {
     width: 90%;
     max-width: 400px;
   }
   
   .modal-md {
     width: 90%;
     max-width: 600px;
   }
   
   .modal-lg {
     width: 90%;
     max-width: 800px;
   }
   
   .modal-xl {
     width: 90%;
     max-width: 1200px;
   }
   
   .modal-header {
     display: flex;
     align-items: center;
     justify-content: space-between;
     padding: $space-6;
     border-bottom: $border-width solid $color-border;
   }
   
   .modal-title {
     margin: 0;
     font-size: $font-size-xl;
     font-weight: $font-weight-semibold;
     color: $color-text;
   }
   
   .modal-close {
     display: flex;
     align-items: center;
     justify-content: center;
     width: 32px;
     height: 32px;
     background: none;
     border: none;
     border-radius: $radius-md;
     color: $color-text-secondary;
     cursor: pointer;
     font-size: 18px;
     transition: $transition-colors;
   
     &:hover {
       background: $color-gray-100;
       color: $color-text;
     }
   }
   
   .modal-body {
     padding: $space-6;
     overflow-y: auto;
   }
   
   .modal-footer {
     display: flex;
     align-items: center;
     justify-content: flex-end;
     gap: $space-3;
     padding: $space-6;
     border-top: $border-width solid $color-border;
   }
   
   @keyframes modalFadeIn {
     from {
       opacity: 0;
       transform: scale(0.95);
     }
     to {
       opacity: 1;
       transform: scale(1);
     }
   }
   
   /* Dropdown Components */
   .dropdown {
     position: relative;
     display: inline-block;
   }
   
   .dropdown-menu {
     position: absolute;
     top: 100%;
     right: 0;
     min-width: 180px;
     background: $color-white;
     border: $border-width solid $color-border;
     border-radius: $radius-lg;
     box-shadow: $shadow-lg;
     padding: $space-2;
     z-index: $z-dropdown;
     animation: dropdownFadeIn 0.15s ease-out;
   }
   
   .dropdown-item {
     display: block;
     width: 100%;
     padding: $space-2 $space-3;
     color: $color-text;
     text-decoration: none;
     border: none;
     background: none;
     text-align: left;
     border-radius: $radius-md;
     cursor: pointer;
     font-size: $font-size-sm;
     transition: $transition-colors;
   
     &:hover {
       background: $color-gray-100;
     }
   
     &:focus {
       outline: none;
       background: $color-gray-100;
     }
   }
   
   @keyframes dropdownFadeIn {
     from {
       opacity: 0;
       transform: translateY(-4px);
     }
     to {
       opacity: 1;
       transform: translateY(0);
     }
   }
   
   /* Loading Components */
   .loading {
     display: flex;
     align-items: center;
     justify-content: center;
     gap: $space-2;
     color: $color-text-secondary;
   }
   
   .loading-dots {
     display: flex;
     gap: $space-1;
   }
   
   .loading-dot {
     width: 8px;
     height: 8px;
     background: currentColor;
     border-radius: 50%;
     animation: loadingDot 1.4s infinite ease-in-out;
   
     &:nth-child(1) { animation-delay: -0.32s; }
     &:nth-child(2) { animation-delay: -0.16s; }
   }
   
   @keyframes loadingDot {
     0%, 80%, 100% {
       transform: scale(0.8);
       opacity: 0.5;
     }
     40% {
       transform: scale(1.2);
       opacity: 1;
     }
   }
   
   /* Alert Components */
   .alert {
     padding: $space-4;
     border-radius: $radius-lg;
     border: $border-width solid;
   }
   
   .alert-info {
     background: $color-info-light;
     border-color: color.adjust($color-info, $lightness: 20%);
     color: $color-info;
   }
   
   .alert-success {
     background: $color-success-light;
     border-color: color.adjust($color-success, $lightness: 20%);
     color: $color-success;
   }
   
   .alert-warning {
     background: $color-warning-light;
     border-color: color.adjust($color-warning, $lightness: 20%);
     color: $color-warning;
   }
   
   .alert-error {
     background: $color-error-light;
     border-color: color.adjust($color-error, $lightness: 20%);
     color: $color-error;
   }
   
   /* List Components */
   .list {
     list-style: none;
     margin: 0;
     padding: 0;
   }
   
   .list-item {
     padding: $space-3 $space-4;
     border-bottom: $border-width solid $color-border-light;
     transition: $transition-colors;
   
     &:last-child {
       border-bottom: none;
     }
   
     &:hover {
       background: $color-gray-50;
     }
   
     &.active {
       background: $color-primary-light;
       color: $color-primary;
     }
   }
   
   /* Scrollbar Styling */
   .custom-scrollbar {
     &::-webkit-scrollbar {
       width: 8px;
       height: 8px;
     }
   
     &::-webkit-scrollbar-track {
       background: transparent;
     }
   
     &::-webkit-scrollbar-thumb {
       background: rgba(0, 0, 0, 0.2);
       border-radius: 4px;
   
       &:hover {
         background: rgba(0, 0, 0, 0.3);
       }
     }
   }